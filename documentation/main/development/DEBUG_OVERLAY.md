# DebugOverlay - –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ UI

**–í–µ—Ä—Å–∏—è:** 2.0
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-08
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2026-01-20
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç—É–∞–ª–µ–Ω

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ v2.0:**
- ‚úÖ **–†–ï–§–ê–ö–¢–û–†–ò–ù–ì:** –†–∞–∑–¥–µ–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º UI
  - `DEBUG_OVERLAY_ENABLED` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π (FPS, –ø–æ–∑–∏—Ü–∏—è, —Å—á—ë—Ç, –≤—Ä–∞–≥–∏)
  - `DEBUG_VISUAL_GRID_ENABLED` ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–∞—è —Å–µ—Ç–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ (—è—á–µ–π–∫–∏, –∑–∞–Ω—è—Ç–æ—Å—Ç—å)
  - `DEBUG_SPAWN_GRID_ENABLED` ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å–µ—Ç–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω FPS –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π (–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞)
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: –¥–æ–±–∞–≤–ª–µ–Ω—ã `getScore()`, `getMaxPossibleScore()`, `getTotalMaxPossibleScore()`
- ‚úÖ –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ —É–º–µ–Ω—å—à–µ–Ω —Å 32px –¥–æ 20px (–≤ 1.5x)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ v1.1:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: `this.runes` ‚Üí `this.keys` (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–º—É –∫–æ–¥—É)

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

`DebugOverlay` ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º UI –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å–µ—Ç–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã —Å–ø–∞–≤–Ω–∞. –ö–ª–∞—Å—Å –±—ã–ª –≤—ã–Ω–µ—Å–µ–Ω –∏–∑ `MainScene` –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–≥—Ä—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–∞—Ç—Ä–∏—Ü—É —Å–ø–∞–≤–Ω–∞ –æ–±—ä–µ–∫—Ç–æ–≤.

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
4. [–ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞](#–º–µ—Ç–æ–¥—ã-–∫–ª–∞—Å—Å–∞)
5. [–û—Ç–ª–∞–¥–æ—á–Ω—ã–π UI](#–æ—Ç–ª–∞–¥–æ—á–Ω—ã–π-ui)
6. [–°–µ—Ç–∫–∞ –º–∞—Ç—Ä–∏—Ü—ã —Å–ø–∞–≤–Ω–∞](#—Å–µ—Ç–∫–∞-–º–∞—Ç—Ä–∏—Ü—ã-—Å–ø–∞–≤–Ω–∞)
7. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ MainScene](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-mainscene)
8. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
9. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

---

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

`DebugOverlay` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞, –∫–∞–º–µ—Ä—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–∞–≥–æ–≤, –∫–ª—é—á–∏)
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Ç–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã —Å–ø–∞–≤–Ω–∞ (64√ó64 –ø–∏–∫—Å–µ–ª–µ–π)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤—ã–Ω–µ—Å–µ–Ω–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

1. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Äî –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π UI –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å—Ü–µ–Ω—ã
2. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** ‚Äî –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö —Å—Ü–µ–Ω–∞—Ö
3. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å
4. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** ‚Äî `MainScene` —Å—Ç–∞–ª –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –§–∞–π–ª

**–ü—É—Ç—å:** `src/game/ui/DebugOverlay.ts`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞

```typescript
export class DebugOverlay {
    private debugText!: Phaser.GameObjects.Text;
    private debugUpdateCounter: number = 0;
    private spawnMatrixGrid!: Phaser.GameObjects.Graphics;
    
    constructor(
        private scene: Phaser.Scene,
        private deps: DebugOverlayDependencies
    ) {}
}
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ö–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Dependency Injection —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `DebugOverlayDependencies`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å —Å –º–æ–∫–∞–º–∏
- –ò–∑–±–µ–∂–∞—Ç—å –∂–µ—Å—Ç–∫–æ–π —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å `MainScene`
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å –≤ –¥—Ä—É–≥–∏—Ö —Å—Ü–µ–Ω–∞—Ö

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### DebugOverlayDependencies

```typescript
interface DebugOverlayDependencies {
    getPlayer: () => Player | null;
    getGameState: () => GameState;
    getSpawnSystem: () => SpawnSystem | null;
    getEnemyInstances: () => AbstractEnemy[];
    getMaxKeys: () => number;
    getHeartsGroup: () => Phaser.Physics.Arcade.Group | null;
    getKeysGroup: () => Phaser.Physics.Arcade.Group | null;
    getScore: () => number;
    getMaxPossibleScore: () => number;
    getTotalMaxPossibleScore: () => number;
}
```

### –û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|-----------|------------|
| `getPlayer()` | `Player \| null` | –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏–≥—Ä–æ–∫–∞ |
| `getGameState()` | `GameState` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã |
| `getSpawnSystem()` | `SpawnSystem \| null` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–ø–∞–≤–Ω–∞ |
| `getEnemyInstances()` | `AbstractEnemy[]` | –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –≤—Ä–∞–≥–æ–≤ |
| `getMaxKeys()` | `number` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π |
| `getHeartsGroup()` | `Group \| null` | –ì—Ä—É–ø–ø–∞ —Å–µ—Ä–¥–µ—á–µ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ |
| `getKeysGroup()` | `Group \| null` | –ì—Ä—É–ø–ø–∞ –∫–ª—é—á–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ |
| `getScore()` | `number` | –¢–µ–∫—É—â–∏–π —Å—á—ë—Ç |
| `getMaxPossibleScore()` | `number` | –ú–∞–∫—Å. –≤–æ–∑–º–æ–∂–Ω—ã–π —Å—á—ë—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ |
| `getTotalMaxPossibleScore()` | `number` | –ú–∞–∫—Å. –≤–æ–∑–º–æ–∂–Ω—ã–π —Å—á—ë—Ç –∑–∞ –≤—Å—é –∏–≥—Ä—É |

---

## –ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### `create(): void`

–°–æ–∑–¥–∞–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π UI (—Ç–µ–∫—Å—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π).

**–í—ã–∑–æ–≤:** –í `MainScene.create()` –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã

**–£—Å–ª–æ–≤–∏–µ:** –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `DEBUG_UI_ENABLED === true`

**–ü—Ä–∏–º–µ—Ä:**
```typescript
if (DEBUG_UI_ENABLED) {
    this.debugOverlay.create();
}
```

#### `createSpawnMatrixGrid(): void`

–°–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Ç–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã —Å–ø–∞–≤–Ω–∞.

**–í—ã–∑–æ–≤:** –í `MainScene.create()` –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

**–£—Å–ª–æ–≤–∏–µ:** –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `DEBUG_UI_ENABLED === true`

**–í–∞–∂–Ω–æ:** –î–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —á—Ç–æ–±—ã –º–∞—Ç—Ä–∏—Ü–∞ –±—ã–ª–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞

**–ü—Ä–∏–º–µ—Ä:**
```typescript
if (DEBUG_UI_ENABLED) {
    this.debugOverlay.createSpawnMatrixGrid();
}
```

#### `update(): void`

–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π UI –∏ —Å–µ—Ç–∫—É –º–∞—Ç—Ä–∏—Ü—ã.

**–í—ã–∑–æ–≤:** –í `MainScene.update()` –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä

**–£—Å–ª–æ–≤–∏–µ:** –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `DEBUG_UI_ENABLED === true`

**–ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- Debug UI: –∫–∞–∂–¥—ã–µ 30 –∫–∞–¥—Ä–æ–≤ (0.5 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–∏ 60 FPS)
- –°–µ—Ç–∫–∞ –º–∞—Ç—Ä–∏—Ü—ã: –∫–∞–∂–¥—ã–µ 10 –∫–∞–¥—Ä–æ–≤ (–¥–ª—è –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)

**–ü—Ä–∏–º–µ—Ä:**
```typescript
if (DEBUG_UI_ENABLED && this.debugOverlay) {
    this.debugOverlay.update();
}
```

#### `destroy(): void`

–£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ UI.

**–í—ã–∑–æ–≤:** –í `MainScene.shutdown()` –∏–ª–∏ –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ —Å—Ü–µ–Ω—ã

**–ü—Ä–∏–º–µ—Ä:**
```typescript
if (this.debugOverlay) {
    this.debugOverlay.destroy();
}
```

### –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### `createDebugUI(): void`

–°–æ–∑–¥–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–∑–∏—Ü–∏—è: `(20, 20)` –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –∫–∞–º–µ—Ä—ã
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑—É–º–∞ –∫–∞–º–µ—Ä—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `setScrollFactor(0)` –¥–ª—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- Depth: `999999` (–ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)

#### `updateDebugUI(): void`

–û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

**–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
- **FPS** ‚Äî —Ç–µ–∫—É—â–∏–π –∫–∞–¥—Ä –≤ —Å–µ–∫—É–Ω–¥—É
- –ü–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞ (X, Y)
- –ü–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã (scrollX, scrollY)
- –°—á—ë—Ç –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑–º–æ–∂–Ω—ã–π —Å—á—ë—Ç (—É—Ä–æ–≤–µ–Ω—å/–æ–±—â–∏–π)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π (—Å–æ–±—Ä–∞–Ω–æ/–º–∞–∫—Å–∏–º—É–º)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–¥–µ—á–µ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–∞–≥–æ–≤ –ø–æ —Ç–∏–ø–∞–º (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —Å—É–º–º–∞—Ä–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ)

#### `createSpawnMatrixGridInternal(): void`

–°–æ–∑–¥–∞–µ—Ç Graphics –æ–±—ä–µ–∫—Ç –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Å–µ—Ç–∫–∏.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Depth: `0.5` (–≤—ã—à–µ —Ñ–æ–Ω–∞, –Ω–∏–∂–µ –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤)
- ScrollFactor: `1` (–¥–≤–∏–≥–∞–µ—Ç—Å—è —Å –∫–∞–º–µ—Ä–æ–π)
- –†–∞–∑–º–µ—Ä —è—á–µ–π–∫–∏: 64√ó64 –ø–∏–∫—Å–µ–ª–µ–π
- –†–∞–∑–º–µ—Ä –º–∞—Ç—Ä–∏—Ü—ã: 32√ó32 —è—á–µ–π–∫–∏

#### `updateSpawnMatrixGrid(): void`

–û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Å–µ—Ç–∫—É –∏ –∑–∞–∫—Ä–∞—à–∏–≤–∞–µ—Ç –∑–∞–Ω—è—Ç—ã–µ —è—á–µ–π–∫–∏.

**–¶–≤–µ—Ç–∞ —è—á–µ–µ–∫:**
- –ó–µ–ª–µ–Ω—ã–π (`0x00ff00`) ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ
- –ö—Ä–∞—Å–Ω—ã–π (`0xff0000`) ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–ø–æ—Ä—Ç–∞–ª—ã, –æ—Ä–∞–∫—É–ª, –∫—É—Å—Ç—ã)
- –ñ–µ–ª—Ç—ã–π (`0xffff00`) ‚Äî –ø—Ä–µ–¥–º–µ—Ç—ã (–∫–ª—é—á–∏, —Å–µ—Ä–¥–µ—á–∫–∏)
- –°–∏–Ω–∏–π (`0x0000ff`) ‚Äî –≤—Ä–∞–≥–∏

#### `getZoomCompensatedPosition(targetX: number, targetY: number): { x: number, y: number }`

–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Å —É—á–µ—Ç–æ–º –∑—É–º–∞ –∫–∞–º–µ—Ä—ã.

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –∂–µ–ª–∞–µ–º—ã–µ —ç–∫—Ä–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–∏—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏ —Ç–µ–∫—É—â–µ–º –∑—É–º–µ –æ–∫–∞–∂—É—Ç—Å—è –≤ –Ω—É–∂–Ω–æ–º –º–µ—Å—Ç–µ.

---

## –û—Ç–ª–∞–¥–æ—á–Ω—ã–π UI

### –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ú–µ—Ç–æ–¥:** `createDebugUI()`

**–ü–æ–∑–∏—Ü–∏—è:** `(20, 20)` –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –∫–∞–º–µ—Ä—ã

**–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑—É–º–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `getZoomCompensatedPosition()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–∞—Å—à—Ç–∞–± —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `setScale(1 / zoom)`

**–°—Ç–∏–ª–∏:**
- Font size: `20px` (—É–º–µ–Ω—å—à–µ–Ω –≤ 1.5x –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏)
- Font family: `monospace`
- Color: `#00ff00` (–∑–µ–ª–µ–Ω—ã–π)
- Background: `rgba(0, 0, 0, 0.5)` (–ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —á–µ—Ä–Ω—ã–π)
- Padding: `{ x: 4, y: 4 }`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–ú–µ—Ç–æ–¥:** `updateDebugUI()`

**–ß–∞—Å—Ç–æ—Ç–∞:** –ö–∞–∂–¥—ã–µ 30 –∫–∞–¥—Ä–æ–≤ (0.5 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–∏ 60 FPS)

**–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**

```
FPS: 60.0
Player: 1024x512
Camera: 512x256
Score: 150
Max Possible (Level): 500
Max Possible (Total): 2000
Keys Collected: 2/3
Keys on Map: 1
Hearts on Map: 3
Enemies: 5
  Beast: 2 (HP: 4)
  Dragon: 2 (HP: 2)
  Flam: 1 (HP: 4)
```

---

## –°–µ—Ç–∫–∞ –º–∞—Ç—Ä–∏—Ü—ã —Å–ø–∞–≤–Ω–∞

### –°–æ–∑–¥–∞–Ω–∏–µ

**–ú–µ—Ç–æ–¥:** `createSpawnMatrixGrid()`

**–í—ã–∑–æ–≤:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ `MainScene.create()`

**–í–∞–∂–Ω–æ:** –ú–∞—Ç—Ä–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–µ—Ç–∫–∏

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

**–ú–µ—Ç–æ–¥:** `updateSpawnMatrixGrid()`

**–ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –ö–∞–∂–¥—ã–µ 10 –∫–∞–¥—Ä–æ–≤ (–¥–ª—è –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
- –õ–∏–Ω–∏–∏ —Å–µ—Ç–∫–∏: –±–µ–ª—ã–µ, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å 0.5
- –ó–∞–ª–∏–≤–∫–∞ –∑–∞–Ω—è—Ç—ã—Ö —è—á–µ–µ–∫: —Ü–≤–µ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å 0.3-0.5
- –ì—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç—ã: –≥–æ–ª—É–±—ã–µ, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å 0.8, —Ç–æ–ª—â–∏–Ω–∞ 2px

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

| –¢–∏–ø –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ | –¶–≤–µ—Ç | Alpha | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------|------|-------|----------|
| `free` | –ó–µ–ª–µ–Ω—ã–π (`0x00ff00`) | - | –°–≤–æ–±–æ–¥–Ω–∞—è —è—á–µ–π–∫–∞ (–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è) |
| `permanent` | –ö—Ä–∞—Å–Ω—ã–π (`0xff0000`) | 0.5 | –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–ø–æ—Ä—Ç–∞–ª—ã, –æ—Ä–∞–∫—É–ª, –∫—É—Å—Ç—ã) |
| `item` | –ñ–µ–ª—Ç—ã–π (`0xffff00`) | 0.3 | –ü—Ä–µ–¥–º–µ—Ç—ã (–∫–ª—é—á–∏, —Å–µ—Ä–¥–µ—á–∫–∏) |
| `enemy` | –°–∏–Ω–∏–π (`0x0000ff`) | 0.3 | –í—Ä–∞–≥–∏ |

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ MainScene

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// –í MainScene.create() –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã
if (DEBUG_OVERLAY_ENABLED) {
    this.debugOverlay = new DebugOverlay(this, {
        getPlayer: () => this.player,
        getGameState: () => this.gameState,
        getSpawnSystem: () => this.spawnSystem,
        getEnemyInstances: () => this.enemyInstances,
        getMaxKeys: () => this.MAX_KEYS,
        getHeartsGroup: () => this.hearts,
        getKeysGroup: () => this.keys,
        getScore: () => this.scoreSystem.getScore(),
        getMaxPossibleScore: () => this.scoreSystem.getMaxPossibleScore(),
        getTotalMaxPossibleScore: () => this.scoreSystem.getTotalMaxPossibleScore()
    });
    this.debugOverlay.create(); // –°–æ–∑–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ debugText (–µ—Å–ª–∏ DEBUG_OVERLAY_ENABLED)
    // –°–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–∑–∂–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–µ—Å–ª–∏ DEBUG_VISUAL_GRID_ENABLED)
    this.debugOverlay.createSpawnMatrixGrid();
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```typescript
// –í MainScene.update()
if (DEBUG_OVERLAY_ENABLED && this.debugOverlay) {
    this.debugOverlay.update(); // –û–±–Ω–æ–≤–ª—è–µ—Ç UI –∏ —Å–µ—Ç–∫—É –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –ø–æ —Ñ–ª–∞–≥–∞–º
}
```

### –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ

```typescript
// –í MainScene.shutdown()
if (this.debugOverlay) {
    try {
        this.debugOverlay.destroy();
    } catch (e) {
        console.warn('‚ö†Ô∏è Error destroying debugOverlay:', e);
    }
}
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Ç–ª–∞–¥–æ—á–Ω—ã–π UI —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ç—Ä–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:

**–§–∞–π–ª:** `src/config/debugConfig.ts` (—Ä–µ—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `src/config/gameConfig.ts`)

| –§–ª–∞–≥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è |
|------|------------|----------------------|
| `DEBUG_OVERLAY_ENABLED` | –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π (FPS, –ø–æ–∑–∏—Ü–∏—è, —Å—á—ë—Ç, –≤—Ä–∞–≥–∏) | `VITE_DEBUG_OVERLAY_ENABLED` |
| `DEBUG_VISUAL_GRID_ENABLED` | –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–µ—Ç–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ (—è—á–µ–π–∫–∏, –∑–∞–Ω—è—Ç–æ—Å—Ç—å) | `VITE_DEBUG_VISUAL_GRID_ENABLED` |
| `DEBUG_SPAWN_GRID_ENABLED` | –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å–µ—Ç–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ | `VITE_DEBUG_SPAWN_GRID_ENABLED` |

### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤

#### `DEBUG_OVERLAY_ENABLED` ‚Äî –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π

**–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:**
- FPS (–∫–∞–¥—Ä—ã –≤ —Å–µ–∫—É–Ω–¥—É)
- –ü–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞
- –ü–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã
- –°—á—ë—Ç –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑–º–æ–∂–Ω—ã–π —Å—á—ë—Ç
- –ö–ª—é—á–∏ –∏ —Å–µ—Ä–¥–µ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–∞–≥–æ–≤

**–í–∫–ª—é—á–µ–Ω–∏–µ –≤ `.env`:**
```env
VITE_DEBUG_OVERLAY_ENABLED=true
```

#### `DEBUG_VISUAL_GRID_ENABLED` ‚Äî –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–µ—Ç–∫–∞

**–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:**
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —è—á–µ–µ–∫ –º–∞—Ç—Ä–∏—Ü—ã —Å–ø–∞–≤–Ω–∞ (64√ó64 –ø–∏–∫—Å–µ–ª–µ–π)
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ (–∫—Ä–∞—Å–Ω—ã–π/–∂–µ–ª—Ç—ã–π/—Å–∏–Ω–∏–π)
- –õ–∏–Ω–∏–∏ —Å–µ—Ç–∫–∏ –∏ –≥—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç—ã

**–í–∫–ª—é—á–µ–Ω–∏–µ –≤ `.env`:**
```env
VITE_DEBUG_VISUAL_GRID_ENABLED=true
```

**–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:** –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–≤–µ—Ä–ª–µ—è

#### `DEBUG_SPAWN_GRID_ENABLED` ‚Äî –õ–æ–≥–∏ —Å–µ—Ç–∫–∏

**–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:**
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã permanent cells)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∫–∏

**–í–∫–ª—é—á–µ–Ω–∏–µ –≤ `.env`:**
```env
VITE_DEBUG_SPAWN_GRID_ENABLED=true
```

**–û—Å—Ç–æ—Ä–æ–∂–Ω–æ:** –ú–Ω–æ–≥–æ —Å–ø–∞–º–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∫–∏!

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–§–∞–π–ª:** `.env`

```env
# üëÅÔ∏è –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ (Debug Overlay):
VITE_DEBUG_OVERLAY_ENABLED=true           # –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π (FPS, –ø–æ–∑–∏—Ü–∏—è, —Å—á—ë—Ç, –≤—Ä–∞–≥–∏, –∫–ª—é—á–∏)
# VITE_DEBUG_VISUAL_GRID_ENABLED=true     # –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–µ—Ç–∫–∞ —Å–ø–∞–≤–Ω–∞ –Ω–∞ –∫–∞—Ä—Ç–µ (—è—á–µ–π–∫–∏, –∑–∞–Ω—è—Ç–æ—Å—Ç—å)
# VITE_DEBUG_SPAWN_GRID_ENABLED=true      # –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å–µ—Ç–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
```

**–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env` –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä.

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

**–§–∞–π–ª:** `src/constants/gameConstants.ts`

- `MAP_WIDTH` ‚Äî —à–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç—ã (32)
- `MAP_HEIGHT` ‚Äî –≤—ã—Å–æ—Ç–∞ –∫–∞—Ä—Ç—ã (32)
- `BASE_SCALE` ‚Äî –±–∞–∑–æ–≤—ã–π –º–∞—Å—à—Ç–∞–± (64)

**–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è:**
- –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å–µ—Ç–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–µ—Ç–∫–∏

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
// –í MainScene.create()
if (DEBUG_OVERLAY_ENABLED) {
    this.debugOverlay = new DebugOverlay(this, {
        getPlayer: () => this.player,
        getGameState: () => this.gameState,
        getSpawnSystem: () => this.spawnSystem,
        getEnemyInstances: () => this.enemyInstances,
        getMaxKeys: () => this.MAX_KEYS,
        getHeartsGroup: () => this.hearts,
        getKeysGroup: () => this.keys,
        getScore: () => this.scoreSystem.getScore(),
        getMaxPossibleScore: () => this.scoreSystem.getMaxPossibleScore(),
        getTotalMaxPossibleScore: () => this.scoreSystem.getTotalMaxPossibleScore()
    });
    this.debugOverlay.create();
    this.debugOverlay.createSpawnMatrixGrid();
}

// –í MainScene.update()
if (DEBUG_OVERLAY_ENABLED && this.debugOverlay) {
    this.debugOverlay.update();
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–æ–π —Å—Ü–µ–Ω–µ

```typescript
// –í –¥—Ä—É–≥–æ–π —Å—Ü–µ–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, TestScene)
export default class TestScene extends Phaser.Scene {
    private debugOverlay?: DebugOverlay;

    create() {
        // ... –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ü–µ–Ω—ã ...

        if (DEBUG_OVERLAY_ENABLED) {
            this.debugOverlay = new DebugOverlay(this, {
                getPlayer: () => this.player, // –∏–ª–∏ null, –µ—Å–ª–∏ –Ω–µ—Ç –∏–≥—Ä–æ–∫–∞
                getGameState: () => this.gameState,
                getSpawnSystem: () => this.spawnSystem,
                getEnemyInstances: () => this.enemyInstances,
                getMaxKeys: () => 3,
                getHeartsGroup: () => this.hearts,
                getKeysGroup: () => this.keys,
                getScore: () => 0,
                getMaxPossibleScore: () => 100,
                getTotalMaxPossibleScore: () => 100
            });
            this.debugOverlay.create();
        }
    }

    update() {
        if (DEBUG_OVERLAY_ENABLED && this.debugOverlay) {
            this.debugOverlay.update();
        }
    }

    shutdown() {
        if (this.debugOverlay) {
            this.debugOverlay.destroy();
        }
    }
}
```

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [DEBUG_UI_SYSTEM.md](../reference/DEBUG_UI_SYSTEM.md) ‚Äî –±–∞–∑–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–º—É UI
- [SPAWN_MATRIX_SYSTEM.md](SPAWN_MATRIX_SYSTEM.md) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–∞—Ç—Ä–∏—Ü—ã —Å–ø–∞–≤–Ω–∞
- [ProjectMap.md](ProjectMap.md) ‚Äî –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –í–µ—Ä—Å–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏—è | –ê–≤—Ç–æ—Ä |
|------|--------|-----------|-------|
| 2026-01-20 | 2.0 | **–†–ï–§–ê–ö–¢–û–†–ò–ù–ì:** –†–∞–∑–¥–µ–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º UI, –¥–æ–±–∞–≤–ª–µ–Ω FPS | AI Assistant |
| 2025-12-08 | 1.0 | –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è DebugOverlay | AI Assistant |

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-20


