# Mitigation Plan - Adaptive Modal Aspect Ratio System

**–î–∞—Ç–∞:** 2026-02-05
**–°—Ç–∞—Ç—É—Å:** READY

---

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è mitigation

### –û–±—â–∏–π –ø–æ–¥—Ö–æ–¥
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∏—Å–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è:
1. **Prevention** (–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ) ‚Äî –º–µ—Ä—ã –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
2. **Detection** (–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ) ‚Äî –∫–∞–∫ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É
3. **Response** (–†–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ) ‚Äî —á—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏

---

## üî¥ –†–∏—Å–∫ 1: –†–µ–≥—Ä–µ—Å—Å–∏—è –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### Prevention (–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ)

**1.1. –°–æ–∑–¥–∞—Ç—å baseline —Ç–µ—Å—Ç—ã –ü–ï–†–ï–î –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏**

```bash
# –§–∏–∫—Å–∏—Ä—É–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
git checkout -b backup/before-aspect-ratio-changes
git push origin backup/before-aspect-ratio-changes
```

**1.2. –ó–∞–º–µ—Ä—ã —Ç–µ–∫—É—â–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –Ω–∞ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:**

| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ | screenAR | –¢–µ–∫—É—â–∏–π aspect ratio | –û–∂–∏–¥–∞–µ–º—ã–π (–Ω–æ–≤—ã–π) |
|------------|------------|----------|---------------------|-------------------|
| iPhone SE | 375√ó667 | 0.56 | 0.5625 (range 1) | 0.5625 ‚úÖ |
| iPhone 14 | 390√ó844 | 0.46 | 0.5625 (range 1) | 0.5625 ‚úÖ |
| iPad | 768√ó1024 | 0.75 | 0.5625 ‚Üí **0.70** (range 2/3) | 0.85 |
| Full HD | 1920√ó1080 | 1.78 | 1.0 (range 5) | 1.0 ‚úÖ |
| MacBook | 2560√ó1600 | 1.60 | 1.0 (range 5) | 1.0 ‚úÖ |

‚ö†Ô∏è **iPad:** –ü—Ä—ã–∂–æ–∫ —Å 0.5625 –Ω–∞ 0.85 ‚Äî —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è!

---

### Detection (–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ)

**2.1. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã**

–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `scripts/test-modal-sizes.js`:
```javascript
// –¢–µ—Å—Ç–æ–≤—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
const testSizes = [
  { name: 'iPhone-SE', width: 375, height: 667 },
  { name: 'iPad', width: 768, height: 1024 },
  { name: 'Full-HD', width: 1920, height: 1080 },
  { name: 'Boundary-0.6', width: 600, height: 1000 },
  { name: 'Boundary-0.75', width: 750, height: 1000 },
  { name: 'Boundary-1.0', width: 1000, height: 1000 },
  { name: 'Boundary-1.3', width: 1300, height: 1000 },
];
```

**2.2. –í–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è**
- –°—Ä–∞–≤–Ω–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –î–û –∏ –ü–û–°–õ–ï
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—Ä–æ–¥–µ Percy –∏–ª–∏ Playwright

---

### Response (–†–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

**3.1. –ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏**

```bash
# –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –æ—Ç–∫–∞—Ç
git revert HEAD
npm run build
# –î–µ–ø–ª–æ–π hotfix
```

**3.2. –ü–ª–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤**

–ï—Å–ª–∏ iPad (screenAR=0.75) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–ª–æ—Ö–æ:
- –°–¥–≤–∏–Ω—É—Ç—å –≥—Ä–∞–Ω–∏—Ü—É: 0.73 –≤–º–µ—Å—Ç–æ 0.75
- –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è iPad

---

## üî¥ –†–∏—Å–∫ 2: –ü–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –º–µ–∂–¥—É –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏

### Prevention

**1.1. –î–æ–±–∞–≤–∏—Ç—å "–±—É—Ñ–µ—Ä–Ω—ã–µ –∑–æ–Ω—ã" –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö**

```typescript
// –ë—É—Ñ–µ—Ä ¬±0.02 –Ω–∞ –∫–∞–∂–¥–æ–π –≥—Ä–∞–Ω–∏—Ü–µ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
const BUFFER = 0.02;

// –ü—Ä–∏ screenAR = 0.75 ¬± BUFFER –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
if (Math.abs(screenAR - 0.75) < BUFFER) {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π aspect ratio
  aspectRatio = 0.775; // –°—Ä–µ–¥–Ω–µ–µ –º–µ–∂–¥—É 0.70 –∏ 0.85
}
```

**1.2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è**

```typescript
// –ü–ª–∞–≤–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏
const lowerRange = ASPECT_RATIO_RANGES.find(r => screenAR >= r.minAR && screenAR < r.maxAR);
const upperRange = ASPECT_RATIO_RANGES.find(r => r.minAR > screenAR);

if (lowerRange && upperRange) {
  const t = (screenAR - lowerRange.maxAR) / (upperRange.minAR - lowerRange.maxAR);
  aspectRatio = lowerRange.aspectRatio + t * (upperRange.aspectRatio - lowerRange.aspectRatio);
}
```

---

### Detection

**2.1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤**

```typescript
if (Math.abs(screenAR - 0.6) < 0.02 ||
    Math.abs(screenAR - 0.75) < 0.02 ||
    Math.abs(screenAR - 1.0) < 0.02 ||
    Math.abs(screenAR - 1.3) < 0.02) {
  logger.warn('MODAL_SIZE', `‚ö†Ô∏è Boundary case: screenAR=${screenAR.toFixed(3)} (near ${boundary})`);
}
```

---

### Response

**3.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ —á–µ—Ä–µ–∑ config**

–í—ã–Ω–µ—Å—Ç–∏ –ø–æ—Ä–æ–≥–∏ –≤ –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏:

```typescript
// src/config/modalConfig.ts (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
export const ASPECT_RATIO_THRESHOLDS = {
  RANGE_1_MAX: 0.6,    // –ú–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∏–∑–º–µ–Ω–∏—Ç—å
  RANGE_2_MAX: 0.75,
  RANGE_3_MAX: 1.0,
  RANGE_4_MAX: 1.3,
};
```

---

## üî¥ –†–∏—Å–∫ 3: CoinBubbleQuiz ‚Äî 9-slice –Ω–∞–µ–∑–∂–∞–µ—Ç –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏ –æ—á–µ–Ω—å —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö (screenAR < 0.5) –±–∞–±–±–ª—ã (95% —à–∏—Ä–∏–Ω—ã √ó 1/5 –≤—ã—Å–æ—Ç—ã) —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–º–∏, –∏ 9-slice —É–≥–ª—ã –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **–º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É** –¥–ª—è –±–∞–±–±–ª–æ–≤.

---

### Prevention

**1.1. –î–æ–±–∞–≤–∏—Ç—å MIN_BUBBLE_WIDTH –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**

```typescript
// src/constants/gameConstants.ts
export const MODAL_CONSTRAINTS = {
  MIN_MODAL_WIDTH: 320,    // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
  MIN_MODAL_HEIGHT: 480,   // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
  MIN_BUBBLE_WIDTH: 280,   // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –±–∞–±–±–ª–∞ –º–æ–Ω–µ—Ç–∫–∏
  MIN_BUBBLE_HEIGHT: 80,   // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –±–∞–±–±–ª–∞
};
```

**1.2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ calculateModalSize**

```typescript
// –ü–æ—Å–ª–µ —Ä–∞—Å—á—ë—Ç–∞ modalWidth –∏ modalHeight
const MIN_MODAL_WIDTH = 320;
const MIN_MODAL_HEIGHT = 480;

modalWidth = Math.max(modalWidth, MIN_MODAL_WIDTH);
modalHeight = Math.max(modalHeight, MIN_MODAL_HEIGHT);

logger.warn('MODAL_SIZE', `Constraints applied: modal=${modalWidth.toFixed(0)}x${modalHeight.toFixed(0)}, min=${MIN_MODAL_WIDTH}x${MIN_MODAL_HEIGHT}`);
```

**1.3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ CoinBubbleQuiz**

```typescript
// src/game/ui/CoinBubbleQuiz.ts
import { MODAL_CONSTRAINTS } from '../../constants/gameConstants';

// –ü–æ—Å–ª–µ —Ä–∞—Å—á—ë—Ç–∞ bubbleBtnWidth –∏ bubbleBtnHeight
const bubbleBtnWidth = Math.max(
  modalSize.width * 0.95,
  MODAL_CONSTRAINTS.MIN_BUBBLE_WIDTH
);

const bubbleBtnHeight = Math.max(
  modalSize.height / 5,
  MODAL_CONSTRAINTS.MIN_BUBBLE_HEIGHT
);
```

---

### Detection

**2.1. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π**

```typescript
if (modalSize.width < MODAL_CONSTRAINTS.MIN_MODAL_WIDTH) {
  logger.warn('MODAL_SIZE', `‚ö†Ô∏è Modal too narrow: ${modalSize.width.toFixed(0)} < ${MODAL_CONSTRAINTS.MIN_MODAL_WIDTH}, applying constraint`);
}

if (bubbleBtnWidth < MODAL_CONSTRAINTS.MIN_BUBBLE_WIDTH) {
  logger.warn('COIN_BUBBLE', `‚ö†Ô∏è Bubble too narrow: ${bubbleBtnWidth.toFixed(0)} < ${MODAL_CONSTRAINTS.MIN_BUBBLE_WIDTH}, applying constraint`);
}
```

---

### Response

**3.1. –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã**

–ï—Å–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞—Ä—É—à–µ–Ω—ã:
1. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
2. –ü—Ä–∏–º–µ–Ω—è—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
3. –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç (–º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞, –Ω–æ –∫–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç —á–∏—Ç–∞–µ–º)

**3.2. –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Å–ª—É—á–∞–π: —Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–π —ç–∫—Ä–∞–Ω**

–ï—Å–ª–∏ screenAR < 0.4 (—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ —É–∑–∫–∏–µ):
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π layout –±–∞–±–±–ª–æ–≤ (–¥—Ä—É–≥ –ø–æ–¥ –¥—Ä—É–≥–æ–º, –∞ –Ω–µ —Ä—è–¥–æ–º)
- –ò–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–±–±–ª–æ–≤ –¥–æ 1

---

## üü° –†–∏—Å–∫ 4: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Prevention

**1.1. –ë–µ–Ω—á–º–∞—Ä–∫ `Array.find()`**

```typescript
// –ó–∞–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
const start = performance.now();
const selectedRange = ASPECT_RATIO_RANGES.find(...);
const duration = performance.now() - start;

if (duration > 1) {
  logger.warn('PERF', `Aspect ratio selection took ${duration.toFixed(2)}ms`);
}
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è:** < 0.1ms (5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)

---

### Detection

**2.1. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chrome DevTools Performance panel –¥–ª—è –∑–∞–º–µ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –î–û –∏ –ü–û–°–õ–ï –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

### Response

**3.1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)**

```typescript
// –ö—ç—à –Ω–∞ –æ—Å–Ω–æ–≤–µ canvasWidth/canvasHeight
const cacheKey = `${canvasWidth}x${canvasHeight}`;
if (aspectRatioCache[cacheKey]) {
  return aspectRatioCache[cacheKey];
}

// ... —Ä–∞—Å—á—ë—Ç ...
aspectRatioCache[cacheKey] = aspectRatio;
```

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:** < 5%

---

## üü¢ –†–∏—Å–∫ 5: TypeScript –æ—à–∏–±–∫–∏

### Prevention

**1.1. –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**

```typescript
export interface AspectRatioRange {
  readonly name: string;
  readonly minAR: number;
  readonly maxAR: number;
  readonly aspectRatio: number;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 'as const' –¥–ª—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
export const ASPECT_RATIO_RANGES = [
  ...
] as const satisfies readonly AspectRatioRange[];
```

---

### Detection

**2.1. `npm run build` –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º**

**2.2. `npm run test` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö**

---

### Response

**3.1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**

–û–±—ã—á–Ω–æ –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å:
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –∏–º–ø–æ—Ä—Ç–∞ —Ç–∏–ø–æ–≤
- –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º —Ç–∏–ø–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø—ã.

---

## üü¢ –†–∏—Å–∫ 6: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Prevention

**1.1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π logger —Å —É—Ä–æ–≤–Ω–µ–º**

```typescript
logger.log('MODAL_SIZE', ...);     // –û–±—ã—á–Ω—ã–µ –ª–æ–≥–∏
logger.warn('MODAL_SIZE', ...);    // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–≥—Ä–∞–Ω–∏—Ü—ã)
logger.debug('MODAL_SIZE', ...);   // –û—Ç–ª–∞–¥–∫–∞ (–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏)
```

**1.2. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏**

```typescript
let lastScreenAR: number | null = null;

if (lastScreenAR !== screenAR) {
  logger.log('MODAL_SIZE', `Screen AR changed: ${lastScreenAR?.toFixed(2)} ‚Üí ${screenAR.toFixed(2)}`);
  lastScreenAR = screenAR;
}
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º
- [ ] –°–æ–∑–¥–∞–Ω–∞ backup –≤–µ—Ç–∫–∞
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã baseline —Ä–∞–∑–º–µ—Ä—ã (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã –î–û)
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

### –í–æ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω—ã MIN_CONSTRAINTS –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω—ã MIN_CONSTRAINTS –¥–ª—è –±–∞–±–±–ª–æ–≤
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü
- [ ] `npm run build` –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `npm run test` –ø—Ä–æ—Ö–æ–¥–∏—Ç

### –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –°–∫—Ä–∏–Ω—à–æ—Ç—ã –ü–û–°–õ–ï –Ω–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö
- [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –î–û/–ü–û–°–õ–ï (–≤–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)

---

## üö® –ü–ª–∞–Ω —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞

| –°–∏—Ç—É–∞—Ü–∏—è | –î–µ–π—Å—Ç–≤–∏–µ | –í—Ä–µ–º—è |
|----------|----------|-------|
| –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è | `git revert HEAD` + deploy | 5 –º–∏–Ω |
| –ù–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ | –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ | 15 –º–∏–Ω |
| –ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ | –î–æ–±–∞–≤–∏—Ç—å –≤ –º–∞—Å—Å–∏–≤ | 10 –º–∏–Ω |
| 9-slice –ª–æ–º–∞–µ—Ç—Å—è | –£–≤–µ–ª–∏—á–∏—Ç—å MIN_CONSTRAINTS | 5 –º–∏–Ω |
