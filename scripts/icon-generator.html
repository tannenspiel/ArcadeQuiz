<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA Icon Generator - ArcadeQuiz</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            color: #48bb78;
            text-align: center;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin: 30px 0;
        }
        canvas {
            border: 2px solid #48bb78;
            border-radius: 8px;
            background: #2d3748;
        }
        .btn {
            background: #48bb78;
            color: #1a202c;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            transition: transform 0.2s;
        }
        .btn:hover {
            transform: scale(1.05);
            background: #38a169;
        }
        .btn:active {
            transform: scale(0.98);
        }
        .info {
            background: #2d3748;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #9f7aea;
        }
        .info code {
            background: #1a202c;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .success {
            background: #276749;
            color: #f0fff4;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            display: none;
        }
    </style>
</head>
<body>
    <h1>üé® PWA Icon Generator - ArcadeQuiz</h1>

    <div class="info">
        <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
        <ol>
            <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏"</li>
            <li>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞–∂–¥—É—é –∏–∫–æ–Ω–∫—É, —á—Ç–æ–±—ã —Å–∫–∞—á–∞—Ç—å –µ—ë</li>
            <li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É <code>public/</code> –ø—Ä–æ–µ–∫—Ç–∞</li>
        </ol>
    </div>

    <div style="text-align: center; margin: 20px 0;">
        <button class="btn" onclick="generateIcons()">üé® –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏</button>
    </div>

    <div class="container">
        <div>
            <h3 style="text-align: center; color: #f6e05e;">icon-192.png</h3>
            <canvas id="canvas192" width="192" height="192"></canvas>
            <div style="text-align: center; margin: 10px 0;">
                <button class="btn" onclick="downloadIcon('canvas192', 'icon-192.png')">
                    üíæ –°–∫–∞—á–∞—Ç—å 192x192
                </button>
            </div>
        </div>
        <div>
            <h3 style="text-align: center; color: #f6e05e;">icon-512.png</h3>
            <canvas id="canvas512" width="512" height="512"></canvas>
            <div style="text-align: center; margin: 10px 0;">
                <button class="btn" onclick="downloadIcon('canvas512', 'icon-512.png')">
                    üíæ –°–∫–∞—á–∞—Ç—å 512x512
                </button>
            </div>
        </div>
    </div>

    <div id="success" class="success"></div>

    <script>
        /**
         * –°–æ–∑–¥–∞—ë—Ç –∏–∫–æ–Ω–∫—É —Å –∑–∞–¥–∞–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º
         */
        function createIcon(canvas, size) {
            const ctx = canvas.getContext('2d');

            // –§–æ–Ω - —Ç—ë–º–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç (–ø–æ–¥ —Ç–µ–º—É –∏–≥—Ä—ã)
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#1a202c');   // —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π
            gradient.addColorStop(0.5, '#2d3748'); // —Å–∏–Ω–∏–π-—Å–µ—Ä—ã–π
            gradient.addColorStop(1, '#1a202c');   // —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, size, size);

            // –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–∞–º–∫–∞
            const padding = size * 0.08;
            const borderWidth = size * 0.04;

            ctx.strokeStyle = '#48bb78'; // –∑–µ–ª—ë–Ω—ã–π (—Ü–≤–µ—Ç –ø–æ–±–µ–¥—ã)
            ctx.lineWidth = borderWidth;
            ctx.strokeRect(padding, padding, size - padding * 2, size - padding * 2);

            // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç - –ø–æ—Ä—Ç–∞–ª (–æ–≤–∞–ª)
            const centerX = size / 2;
            const centerY = size / 2;
            const portalWidth = size * 0.4;
            const portalHeight = size * 0.5;

            // –°–≤–µ—á–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞–ª–∞
            ctx.shadowColor = '#9f7aea'; // —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
            ctx.shadowBlur = size * 0.08;

            ctx.fillStyle = '#9f7aea';
            ctx.beginPath();
            ctx.ellipse(centerX, centerY, portalWidth / 2, portalHeight / 2, 0, 0, Math.PI * 2);
            ctx.fill();

            // –í–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞–ª–∞ (—á—ë—Ä–Ω—ã–π)
            ctx.shadowBlur = 0;
            ctx.fillStyle = '#000000';
            ctx.beginPath();
            ctx.ellipse(centerX, centerY, portalWidth / 2.5, portalHeight / 2.5, 0, 0, Math.PI * 2);
            ctx.fill();

            // –ó–≤—ë–∑–¥—ã/—á–∞—Å—Ç–∏—Ü—ã –≤–æ–∫—Ä—É–≥ –ø–æ—Ä—Ç–∞–ª–∞
            const particleCount = size >= 512 ? 8 : 4;
            const particleDistance = size * 0.28;
            const particleSize = size * 0.04;

            ctx.fillStyle = '#f6e05e'; // –∂—ë–ª—Ç—ã–π
            for (let i = 0; i < particleCount; i++) {
                const angle = (Math.PI * 2 * i) / particleCount;
                const x = centerX + Math.cos(angle) * particleDistance;
                const y = centerY + Math.sin(angle) * particleDistance;

                ctx.beginPath();
                ctx.arc(x, y, particleSize, 0, Math.PI * 2);
                ctx.fill();
            }

            // –¢–µ–∫—Å—Ç "MP" (Mysterious Portals) –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–∫–æ–Ω–æ–∫
            if (size >= 192) {
                const fontSize = size * 0.2;
                ctx.font = `bold ${fontSize}px Arial, sans-serif`;
                ctx.fillStyle = '#ffffff';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                // –¢–µ–Ω—å –¥–ª—è —Ç–µ–∫—Å—Ç–∞
                ctx.shadowColor = '#000000';
                ctx.shadowBlur = size * 0.02;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = size * 0.01;

                ctx.fillText('MP', centerX, centerY + size * 0.02);
            }
        }

        /**
         * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–±–µ –∏–∫–æ–Ω–∫–∏
         */
        function generateIcons() {
            const canvas192 = document.getElementById('canvas192');
            const canvas512 = document.getElementById('canvas512');

            createIcon(canvas192, 192);
            createIcon(canvas512, 512);

            const success = document.getElementById('success');
            success.style.display = 'block';
            success.innerHTML = '‚úÖ –ò–∫–æ–Ω–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã! –¢–µ–ø–µ—Ä—å –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–°–∫–∞—á–∞—Ç—å" –ø–æ–¥ –∫–∞–∂–¥–æ–π –∏–∫–æ–Ω–∫–æ–π.';
        }

        /**
         * –°–∫–∞—á–∏–≤–∞–µ—Ç –∏–∫–æ–Ω–∫—É –∫–∞–∫ PNG —Ñ–∞–π–ª
         */
        function downloadIcon(canvasId, filename) {
            const canvas = document.getElementById(canvasId);
            const dataUrl = canvas.toDataURL('image/png');

            const link = document.createElement('a');
            link.download = filename;
            link.href = dataUrl;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            const success = document.getElementById('success');
            success.style.display = 'block';
            success.innerHTML = `‚úÖ –§–∞–π–ª <code>${filename}</code> —Å–∫–∞—á–∞–Ω! –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –≤—Ç–æ—Ä–æ–π –∏–∫–æ–Ω–∫–∏.`;
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = generateIcons;
    </script>
</body>
</html>
